(this["webpackJsonpmat-design"]=this["webpackJsonpmat-design"]||[]).push([[0],{180:function(e,t,a){e.exports=a(320)},230:function(e,t){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=a(37),m=a(12),u=a(10),d=a(13),p=a.n(d),g=a(357),E=a(366),f=a(363),h=a(365),v=a(142),b=a.n(v),y=a(359),k=a(361),S=a(46),x=a(362),w=Object(g.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0,"&:hover":{cursor:"pointer"}},mainImg:{width:150,height:150,borderRadius:"160px"}}}));function I(e){var t=w(),a=e.sections,n=e.title,l=e.dash,o=e.refreshPost;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:t.toolbar},r.a.createElement("div",{className:t.toolbarTitle},r.a.createElement(S.a,{align:"left",component:"h2",variant:"h5"},n)),l?r.a.createElement(s.b,{to:"/dash",style:{textDecoration:"none"}},r.a.createElement(k.a,{variant:"outlined",size:"small",align:"right"},"Dashboard")):r.a.createElement(k.a,{variant:"outlined",size:"small",onClick:function(){window.location.href="https://sandeepthakur.co"}},"Find Me")),r.a.createElement(y.a,{component:"nav",variant:"dense",className:t.toolbarSecondary},a.map((function(e){return r.a.createElement(x.a,{color:"inherit",key:e.title,onClick:function(){"Everything"!==e.title?o(e.title):o(null)},className:t.toolbarLink},e.title)}))))}var B=a(78),N=a(83),C=a(51),O=a.n(C),P=Object(g.a)((function(e){return{mainFeaturedPost:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center top"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},continueBut:{color:"white",borderColor:"white"},mainFeaturedPostContent:Object(B.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function T(e){var t,a=P(),n=e.post;return void 0===n?n={PostTitle:"So empty...",PostDetail:"Please Write something, it's getting cold. I see a white light if you don't write something soon it'll be over very soon",Image:"https://source.unsplash.com/random"}:t='url("https://wallpapercave.com/wp/wp1929365.jpg")',r.a.createElement(N.a,{className:a.mainFeaturedPost,style:{backgroundImage:t}},null!==n.Image&&r.a.createElement("img",{style:{display:"none"},src:"/get_image/".concat(n.Image),alt:n.imageText}),r.a.createElement("div",{className:a.overlay}),r.a.createElement(f.a,{container:!0},r.a.createElement(f.a,{item:!0,md:6},r.a.createElement("div",{className:a.mainFeaturedPostContent},r.a.createElement(S.a,{component:"h2",variant:"h4",color:"inherit",gutterBottom:!0},n.PostTitle),r.a.createElement(S.a,{component:"span",variant:"h5",color:"inherit",paragraph:!0},O()(n.PostDetail.substring(0,100)),r.a.createElement("p",null,"...")),r.a.createElement(k.a,{className:a.continueBut,variant:"outlined"},"Continue Reading")))))}var j=a(364),D=Object(g.a)((function(e){return{pImage:{maxWidth:"50%",height:"auto",borderRadius:"7px",border:"3px solid #000000","@media only screen and (max-width: 640px)":{maxWidth:"80%"}},postItem:{marginTop:"20px"},postDate:{marginTop:"10px",fontSize:"14px",textDecoration:"none"},postBody:{marginTop:"10px"}}}));function W(e){var t=D(),a=e.post;return r.a.createElement("div",{className:t.postItem},r.a.createElement(S.a,{component:"h2",variant:"h4"},a.PostTitle),r.a.createElement(S.a,{component:"p",paragraph:!0,className:t.postDate},new Date(a.PubDate).toDateString()," by",r.a.createElement(S.a,{component:"a",className:t.postDate},r.a.createElement("strong",null," ",a.Author)," ")),r.a.createElement(S.a,{component:"span",paragraph:!0,className:t.postBody},O()(a.PostDetail)),r.a.createElement("div",{style:{textAlign:"center"}},null!==a.Image&&r.a.createElement("img",{className:t.pImage,src:"/get_image/".concat(a.Image),alt:a.imageText})),r.a.createElement(j.a,null))}function z(e){var t=e.posts,a=e.title;return r.a.createElement(f.a,{item:!0,xs:12,md:8},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},a),r.a.createElement(j.a,null),t.map((function(e){return r.a.createElement(W,{key:e.PostTitle,post:e})})))}var _=Object(g.a)((function(e){return{sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)}}}));function A(e){var t=_(),a=e.archives,n=e.description,l=e.social,o=e.title,c=e.quoteTitle,i=e.quote;return r.a.createElement(f.a,{item:!0,xs:12,md:4},r.a.createElement(N.a,{elevation:0,className:t.sidebarAboutBox},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},o),r.a.createElement(S.a,null,n)),r.a.createElement(N.a,{elevation:0,className:t.sidebarAboutBox,style:{marginTop:"20px"}},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},c),r.a.createElement(S.a,null,'" ',i,' "')),r.a.createElement(S.a,{variant:"h6",gutterBottom:!0,className:t.sidebarSection},"Archives"),a.map((function(e){return r.a.createElement(x.a,{display:"block",variant:"body1",href:e.url,key:e.title},e.title)})),r.a.createElement(S.a,{variant:"h6",gutterBottom:!0,className:t.sidebarSection},"Social"),l.map((function(e){return r.a.createElement(x.a,{display:"block",variant:"body1",href:"#",key:e},r.a.createElement(f.a,{container:!0,direction:"row",spacing:1,alignItems:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(e.icon,null)),r.a.createElement(f.a,{item:!0},e.name)))})))}function R(e){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"https://www.sandeepthakur.co"},e.endName)," ")}var q=Object(g.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));function F(e){var t=q(),a=e.description,n=e.title;return r.a.createElement("footer",{className:t.footer},r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(S.a,{variant:"h6",align:"center",gutterBottom:!0},n),r.a.createElement(S.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},a),r.a.createElement(R,{endName:e.endName})))}var L=a(367),V=a(161),G=a(162),U=Object(g.a)((function(e){return{mainGrid:{marginTop:e.spacing(3)},progressDiv:{justifyContent:"center",textAlign:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),J=[{title:"Everything",url:"#"},{title:"Letters",url:"#"},{title:"World",url:"#"},{title:"Stupid Things",url:"#"}],H={title:"About",quoteTitle:"Quote",description:"Etiam porta sem malesuada magna mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.",archives:[{title:"October 2020",url:"#"},{title:"September 2020",url:"#"},{title:"August 2020",url:"#"}],social:[{name:"Like i got any...",icon:b.a}]};function Q(){var e=U(),t=r.a.useState(null),a=Object(u.a)(t,2),l=a[0],o=a[1],c=r.a.useState(null),i=Object(u.a)(c,2),s=i[0],m=i[1],d=r.a.useState(!1),g=Object(u.a)(d,2),v=g[0],b=g[1],y=r.a.useState(null),k=Object(u.a)(y,2),S=k[0],x=k[1];Object(n.useEffect)((function(){var e={token:localStorage.getItem("authSession_token"),cat:null};p.a.post("/load_blog",e).then((function(e){m(e.data),x(e.data.dash)})),p.a.post("/load_posts",e).then((function(e){o(e.data.posts.reverse())}))}),[]);return null!=s&&null!=S?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement(V.a,{in:!0},r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(I,{title:s.blogtitle,sections:J,dash:S,refreshPost:function(e){b(!0);var t={token:localStorage.getItem("authSession_token"),cat:e};p.a.post("/load_posts",t).then((function(e){o(e.data.posts.reverse()),b(!1)}))}}),null!=l&&r.a.createElement(V.a,{in:!0},r.a.createElement("main",null,r.a.createElement(T,{post:l[0]}),r.a.createElement(f.a,{container:!0,spacing:5,className:e.mainGrid},r.a.createElement(z,{title:"From the Novel",posts:l}),r.a.createElement(A,{quoteTitle:H.quoteTitle,quote:s.quote,title:H.title,description:s.about,archives:H.archives,social:H.social})))),null===l&&r.a.createElement("div",{className:e.progressDiv},r.a.createElement(L.a,null)))),r.a.createElement(G.a,{className:e.backdrop,open:v},r.a.createElement(L.a,{color:"inherit"})),r.a.createElement(F,{title:"Ciao",description:"Thanks for stopping by!",endName:s.name})):r.a.createElement("div",{className:e.progressDiv},r.a.createElement(L.a,null))}var K=a(395),M=a(396),X=a(391),Y=a(373),$=a(375),Z=a(374);function ee(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},"Sandeep Thakur")," ")}var te=Object(g.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),width:50,height:50,background:"none"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},progressDiv:{justifyContent:"center",textAlign:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ae(e){var t=te(),a=r.a.useState(!1),n=Object(u.a)(a,2),l=n[0],o=n[1],c=r.a.useState(!1),i=Object(u.a)(c,2),s=i[0],d=i[1];return localStorage.getItem("authSession_token")?r.a.createElement(m.a,{to:"/dash"}):r.a.createElement(f.a,{container:!0,component:"main",className:t.root},r.a.createElement(E.a,null),r.a.createElement(f.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(f.a,{item:!0,xs:12,sm:8,md:5,component:N.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(K.a,{className:t.avatar},r.a.createElement("img",{src:"/favicon.png",alt:""})),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(t){!function(t){t.preventDefault(),d(!0);var a={username:document.getElementById("uname").value,pass:document.getElementById("password").value};p.a.post("/login",a).then((function(t){!1!==t.data?(localStorage.setItem("authSession_token",t.data.token),d(!1),e.history.push({pathname:"/dash",state:{data1:t.data}})):(d(!1),o(!0))}))}(t)}},r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"uname",label:"Username",name:"username",autoFocus:!0}),r.a.createElement(M.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(X.a,{mt:5},r.a.createElement(ee,null))))),r.a.createElement(Y.a,{open:l,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Z.a,{id:"alert-dialog-title"},"Invalid Credentials!"),r.a.createElement($.a,{dividers:!0},r.a.createElement(S.a,{gutterBottom:!0},"There was a problem logging you in, either the account does not exist or you are using wrong credendials. Please try again!"))),r.a.createElement(G.a,{className:t.backdrop,open:s},r.a.createElement(L.a,{color:"inherit"})))}var ne=a(143),re=a(3),le=a(386),oe=a(379),ce=a(372),ie=a(380),se=a(153),me=a.n(se),ue=a(154),de=a.n(ue),pe=a(95),ge=a.n(pe),Ee=a(144),fe=a(376),he=a(148),ve=a.n(he),be=a(392),ye=a(397),ke=a(370),Se=a(147),xe=a.n(Se),we=a(145),Ie=a.n(we),Be=a(146),Ne=a.n(Be),Ce=(a(319),Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},fab:{marginTop:"15px",float:"right",background:"black","&:hover":{backgroundColor:"#43464b"}},textStyle:{marginTop:"20px"},inputText:{borderColor:"red"},uploadBut:{marginLeft:"15px",background:"black",color:"white","&:hover":{backgroundColor:"#43464b"},input:{display:"none"}}}}))),Oe={toolbar:[[{header:[!1,4]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}]]},Pe=["header","bold","italic","underline","strike","blockquote","list","bullet","indent"];function Te(e){var t=e.setBackdrop,a=e.setOpen,n=e.setSnackSev,l=e.setSnackTest,o=r.a.useState("Letters"),c=Object(u.a)(o,2),i=c[0],s=c[1],m=r.a.useState(""),d=Object(u.a)(m,2),g=d[0],E=d[1],h=r.a.useState(""),v=Object(u.a)(h,2),b=v[0],y=v[1],S=r.a.useState(""),x=Object(u.a)(S,2),w=x[0],I=x[1];function B(){return(B=Object(Ee.a)(ge.a.mark((function e(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!0),""===g||""===b?(n("error"),l("You have to write something!"),a(!0),t(!1)):Ne.a.imageFileResizer(w,350,350,"JPEG",85,0,(function(e){console.log(e);var r=new FormData;r.append("file",e),r.append("PostTitle",g),r.append("PostDetail",b),r.append("Type",i);var o={headers:{authorization:localStorage.getItem("authSession_token"),"content-type":"multipart/form-data"}};p.a.post("/save_post",r,o).then((function(e){null!==e.data&&(document.getElementById("postTitle").value="",document.getElementById("postBody").value="",n("success"),l("Post successfully saved!"),I(""),E(""),y(""),t(!1),a(!0))}))}),"blob");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Ce();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(M.a,{id:"postTitle",value:g,onChange:function(e){return E(e.target.value)},fullWidth:!0,labelwidth:60,label:"Post Title",variant:"outlined",className:N.inputText}),r.a.createElement(Ie.a,{style:{marginTop:"20px"},modules:Oe,formats:Pe,id:"postBody",theme:"snow",value:b,onChange:function(e){return y(e)}}),r.a.createElement(ke.a,{variant:"outlined",className:N.textStyle},r.a.createElement(f.a,{style:{marginTop:"40px"}},r.a.createElement(ye.a,{htmlFor:"outlined-age-native-simple",style:{marginTop:"40px"}},"Type"),r.a.createElement(be.a,{native:!0,value:i,onChange:function(e){s(e.target.value)},label:"Type",inputProps:{id:"outlined-age-native-simple"},variant:"outlined"},r.a.createElement("option",{value:"Letters"},"Letters"),r.a.createElement("option",{value:"World"},"World"),r.a.createElement("option",{value:"Stupid Things"},"Stupid Things")),""===w?r.a.createElement("label",{htmlFor:"imageUp"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"imageUp",type:"file",onChange:function(e){I(e.target.files[0])}}),r.a.createElement(k.a,{size:"large",variant:"contained",color:"default",component:"span",className:N.uploadBut,startIcon:r.a.createElement(xe.a,null)},"Choose Image")):r.a.createElement("div",null,"Uploaded")))),r.a.createElement(fe.a,{variant:"extended",color:"primary","aria-label":"add",className:N.fab,onClick:function(){!function(){B.apply(this,arguments)}()}},r.a.createElement(ve.a,null),"Create Post")))}var je=a(381),De=a(382),We=a(385),ze=a(384),_e=a(383),Ae=a(322),Re=a(377),qe=a(378);function Fe(e){var t=e.post,a=e.handleClose,n=e.refreshList,l=e.setBackdrop,o=e.setOpen,c=e.setSnackSev,i=e.setSnackTest;return r.a.createElement("div",null,r.a.createElement(Z.a,{id:"alert-dialog-title"},"This action cannot be undone!"),r.a.createElement(j.a,null),r.a.createElement($.a,null,r.a.createElement(Re.a,{id:"alert-dialog-description"},'Delete Post " ',t.PostTitle,' "?')),r.a.createElement(j.a,null),r.a.createElement(qe.a,null,r.a.createElement(k.a,{onClick:function(){a(),l(!0);var e={id:t._id},r={headers:{authorization:localStorage.getItem("authSession_token")}};p.a.post("/delete_post",e,r).then((function(e){!1!==e.data&&(n(),c("success"),i("Post successfully deleted!"),l(!1),o(!0))}))},color:"primary"},"Confirm"),r.a.createElement(k.a,{onClick:a,color:"primary",autoFocus:!0},"Cancel")))}var Le=a(149),Ve=a.n(Le),Ge=Object(g.a)((function(e){return{appBar:{position:"relative",background:"black"},title:{marginLeft:e.spacing(2),flex:1}}}));function Ue(e){var t=Ge(),a=e.post,n=e.handleEditClose;return r.a.createElement("div",null,r.a.createElement(oe.a,{className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(ie.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},r.a.createElement(Ve.a,null)),r.a.createElement(S.a,{variant:"h6",noWrap:!0,className:t.title},a.PostTitle))),r.a.createElement($.a,null))}var Je=Object(g.a)((function(e){return{root:{maxWidth:360,width:400,marginLeft:"20px",marginRight:"20px",marginTop:"20px",marginBottom:"20px"},media:{height:150}}})),He=r.a.forwardRef((function(e,t){return r.a.createElement(Ae.a,Object.assign({direction:"up",ref:t},e))}));function Qe(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],l=a[1],o=r.a.useState(!1),c=Object(u.a)(o,2),i=c[0],s=c[1],m=e.post,d=e.refreshList,p=Je(),g=function(){l(!1)},E=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{className:p.root},r.a.createElement(De.a,null,null!==m.Image&&r.a.createElement(_e.a,{className:p.media,image:"/get_image/".concat(m.Image),title:"Contemplative Reptile"}),null===m.Image&&r.a.createElement(_e.a,{className:p.media,image:"none",title:"Contemplative Reptile"}),r.a.createElement(ze.a,null,r.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2"},m.PostTitle),r.a.createElement(S.a,{variant:"body2",color:"textSecondary",component:"span"},O()(m.PostDetail.substring(0,100)),"..."))),r.a.createElement(We.a,null,r.a.createElement(k.a,{size:"small",color:"primary",onClick:function(){s(!0)}},"Edit"),r.a.createElement(k.a,{size:"small",color:"primary",onClick:function(){l(!0)}},"Delete"))),r.a.createElement(Y.a,{disableBackdropClick:!0,disableEscapeKeyDown:!1,open:n,onClose:g,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Fe,{post:m,handleClose:g,refreshList:d,setBackdrop:e.setBackdrop,setOpen:e.setOpen,setSnackSev:e.setSnackSev,setSnackTest:e.setSnackTest})),r.a.createElement(Y.a,{fullScreen:!0,open:i,onClose:E,TransitionComponent:He},r.a.createElement(Ue,{post:m,handleEditClose:E,refreshList:d,setBackdrop:e.setBackdrop,setOpen:e.setOpen,setSnackSev:e.setSnackSev,setSnackTest:e.setSnackTest})))}var Ke=Object(g.a)((function(e){return{progressDiv:{justifyContent:"center",textAlign:"center"}}}));function Me(e){var t=Ke(),a=r.a.useState(null),l=Object(u.a)(a,2),o=l[0],c=l[1];Object(n.useEffect)((function(){p.a.post("/load_posts",{cat:null}).then((function(e){c(e.data.posts.reverse())}))}),[]);var i=function(){p.a.post("/load_posts",{cat:null}).then((function(e){c(e.data.posts.reverse())}))};return null!==o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,spacing:3},o.map((function(t){return r.a.createElement(Qe,{key:t.PostTitle,post:t,refreshList:i,setBackdrop:e.setBackdrop,setOpen:e.setOpen,setSnackSev:e.setSnackSev,setSnackTest:e.setSnackTest})}))))):r.a.createElement("div",{className:t.progressDiv},r.a.createElement(L.a,null))}var Xe=a(150),Ye=a.n(Xe),$e=a(151),Ze=a.n($e),et=Object(g.a)((function(e){return{root:{flexGrow:1},fab:{background:"black",position:"absolute",bottom:"20px",right:"30px",zIndex:"2","&:hover":{backgroundColor:"#43464b"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},inputBox:{marginTop:"25px"},progressDiv:{justifyContent:"center",textAlign:"center"},extendedIcon:{marginRight:e.spacing(1)}}}));function tt(e){var t=e.setBackdrop,a=e.setOpen,l=e.setSnackSev,o=e.setSnackTest,c=r.a.useState(null),i=Object(u.a)(c,2),s=i[0],m=i[1],d=r.a.useState(!1),g=Object(u.a)(d,2),E=g[0],h=g[1],v=et();function b(){if(E)if(t(!0),h(!1),s.Name===document.getElementById("name").value&&s.username===document.getElementById("username").value&&s.blogtitle===document.getElementById("blogTitle").value&&s.about===document.getElementById("about").value&&s.quote===document.getElementById("quote").value)l("warning"),o("Nothing to save!"),t(!1),a(!0);else{var e={Name:document.getElementById("name").value,username:document.getElementById("username").value,blogtitle:document.getElementById("blogTitle").value,about:document.getElementById("about").value,quote:document.getElementById("quote").value},n={headers:{authorization:localStorage.getItem("authSession_token")}};p.a.post("/update_data",e,n).then((function(e){null!==e.data&&(m(e.data),l("success"),o("Data successfully saved!"),t(!1),a(!0))}))}else h(!0),document.getElementById("name").focus()}return Object(n.useEffect)((function(){var e={headers:{authorization:localStorage.getItem("authSession_token")}};p.a.post("/load_data",null,e).then((function(e){null!=e.data&&m(e.data)}))}),[]),null!=s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,spacing:3,justify:"flex-end"},E?r.a.createElement(fe.a,{variant:"extended",size:"large",color:"primary","aria-label":"add",className:v.fab,onClick:function(){b()}},r.a.createElement(Ze.a,{className:v.extendedIcon}),"Save"):r.a.createElement(fe.a,{variant:"extended",size:"large",color:"primary","aria-label":"add",className:v.fab,onClick:function(){b()}},r.a.createElement(Ye.a,{className:v.extendedIcon}),"Edit"),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:v.paper},r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(S.a,{component:"h2",variant:"h5",color:"textPrimary"},"Personal Details")),r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(M.a,{className:v.inputBox,fullWidth:!0,id:"name",label:"Name",defaultValue:s.Name,InputProps:{readOnly:!E},variant:"outlined"})),r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(M.a,{id:"username",className:v.inputBox,fullWidth:!0,label:"Username",defaultValue:s.username,InputProps:{readOnly:!E},variant:"outlined"}),r.a.createElement(M.a,{className:v.inputBox,fullWidth:!0,id:"blogTitle",label:"Blog Title",defaultValue:s.blogtitle,InputProps:{readOnly:!E},variant:"outlined"})))),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:v.paper},r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(S.a,{component:"h2",variant:"h5",color:"textPrimary"},"About")),r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(M.a,{className:v.inputBox,fullWidth:!0,id:"about",label:"About you",multiline:!0,defaultValue:s.about,InputProps:{readOnly:!E},variant:"outlined"}),r.a.createElement(M.a,{className:v.inputBox,fullWidth:!0,id:"quote",label:"Quote",multiline:!0,defaultValue:s.quote,InputProps:{readOnly:!E},variant:"outlined"}))))))):r.a.createElement("div",{className:v.progressDiv},r.a.createElement(L.a,null))}var at=a(152),nt=a.n(at),rt=Object(g.a)((function(e){return{root:{flexGrow:1},fab:{background:"black",marginTop:"20px",zIndex:"2","&:hover":{backgroundColor:"#43464b"}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},inputBox:{marginTop:"25px"},extendedIcon:{marginRight:e.spacing(1)}}}));function lt(e){var t=e.setBackdrop,a=e.setOpen,n=e.setSnackSev,l=e.setSnackTest,o=rt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:o.paper},r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(S.a,{component:"h2",variant:"h5",color:"textPrimary"},"Change Password")),r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(M.a,{className:o.inputBox,fullWidth:!0,id:"oldPass",label:"Old Password",defaultValue:"",InputProps:{readOnly:!1},variant:"outlined"})),r.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(M.a,{id:"newPass",className:o.inputBox,fullWidth:!0,label:"New Password",defaultValue:"",InputProps:{readOnly:!1},variant:"outlined"}),r.a.createElement(M.a,{className:o.inputBox,fullWidth:!0,id:"confirmPass",label:"Confirm New Password",defaultValue:"",InputProps:{readOnly:!1},variant:"outlined"})),r.a.createElement(fe.a,{variant:"extended",color:"primary","aria-label":"add",className:o.fab,onClick:function(){if(t(!0),""===document.getElementById("oldPass").value||""===document.getElementById("newPass").value||""===document.getElementById("confirmPass").value)l("All fields are required!"),n("warning"),t(!1),a(!0);else if(document.getElementById("newPass").value!==document.getElementById("confirmPass").value)l("New and confirm password does not match!"),n("error"),t(!1),a(!0);else{var e={oldPass:document.getElementById("oldPass").value,newPass:document.getElementById("newPass").value},r={headers:{authorization:localStorage.getItem("authSession_token")}};p.a.post("/change_pass",e,r).then((function(e){!0===e.data?(l("Password changed successfully"),n("success"),document.getElementById("oldPass").value="",document.getElementById("newPass").value="",document.getElementById("confirmPass").value="",t(!1),a(!0)):(l("Wrong Credentials!"),n("error"),document.getElementById("oldPass").value="",document.getElementById("newPass").value="",document.getElementById("confirmPass").value="",t(!1),a(!0))}))}}},r.a.createElement(nt.a,{className:o.extendedIcon}),"Change"))))}var ot=a(371),ct=a(387),it=a(388),st=a(389),mt=a(390),ut=a(155),dt=a.n(ut),pt=a(156),gt=a.n(pt),Et=a(157),ft=a.n(Et),ht=a(159),vt=a.n(ht),bt=a(158),yt=a.n(bt),kt=a(394),St=a(393);function xt(e){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"#"},e.name)," ")}function wt(e){return r.a.createElement(St.a,Object.assign({elevation:6,variant:"filled"},e))}var It=Object(g.a)((function(e){return{root:{display:"flex"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},toolbar:{paddingRight:24},toolbarIcon:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{background:"black",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:16},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},progressDiv:{justifyContent:"center",textAlign:"center"}}}));function Bt(){var e=It(),t=r.a.useState(!1),a=Object(u.a)(t,2),l=a[0],o=a[1],c=r.a.useState(null),i=Object(u.a)(c,2),d=i[0],g=i[1],v=r.a.useState(""),b=Object(u.a)(v,2),x=b[0],w=b[1],I=r.a.useState(""),B=Object(u.a)(I,2),C=B[0],O=B[1],P=r.a.useState("success"),T=Object(u.a)(P,2),D=T[0],W=T[1],z=r.a.useState(!1),_=Object(u.a)(z,2),A=_[0],R=_[1],q=r.a.useState(!1),F=Object(u.a)(q,2),V=F[0],U=F[1],J=r.a.useState(0),H=Object(u.a)(J,2),Q=H[0],K=H[1],M=r.a.useState("Write Something!"),Y=Object(u.a)(M,2),$=Y[0],Z=Y[1],ee=function(e,t){"clickaway"!==t&&o(!1)},te=function(e,t){K(t),R(!1),Z(0===t?"Write Something!":1===t?"Profile":2===t?"Recent Posts":"Security")};return Object(n.useEffect)((function(){var e={headers:{authorization:localStorage.getItem("authSession_token")}};p.a.post("/check_auth",null,e).then((function(e){!0===e.data.auth?(g(e.data.auth),w(e.data.name)):g(e.data.auth)}))}),[]),null===d?r.a.createElement("div",{className:e.progressDiv},r.a.createElement(L.a,null)):!1===d?(localStorage.clear(),r.a.createElement(m.a,{to:"/login"})):r.a.createElement(ot.a,{in:!0},r.a.createElement("div",{className:e.root},r.a.createElement(E.a,null),r.a.createElement(oe.a,{position:"absolute",className:Object(re.a)(e.appBar)},r.a.createElement(y.a,{className:e.toolbar},r.a.createElement(ie.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){R(!0),o(!1)},className:Object(re.a)(e.menuButton)},r.a.createElement(me.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},$),r.a.createElement(s.b,{to:"/main",style:{textDecoration:"none",color:"white"}},r.a.createElement(k.a,{color:"inherit",variant:"text"},"Go Home")))),r.a.createElement(le.a,{anchor:"bottom",open:A},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(ie.a,{onClick:function(){R(!1)}},r.a.createElement(de.a,null))),r.a.createElement(j.a,null),r.a.createElement(ce.a,null,r.a.createElement(ct.a,{button:!0,selected:0===Q,onClick:function(e){return te(0,0)}},r.a.createElement(it.a,null,r.a.createElement(dt.a,null)),r.a.createElement(st.a,{primary:"Create Post"})),r.a.createElement(ct.a,{button:!0,selected:1===Q,onClick:function(e){return te(0,1)}},r.a.createElement(it.a,null,r.a.createElement(gt.a,null)),r.a.createElement(st.a,{primary:"Profile"})),r.a.createElement(ct.a,{button:!0,selected:2===Q,onClick:function(e){return te(0,2)}},r.a.createElement(it.a,null,r.a.createElement(ft.a,null)),r.a.createElement(st.a,{primary:"Recent Posts"}))),r.a.createElement(j.a,null),r.a.createElement(ce.a,null,r.a.createElement(mt.a,{inset:!0},"Settings"),r.a.createElement(ct.a,{button:!0,selected:3===Q,onClick:function(e){return te(0,3)}},r.a.createElement(it.a,null,r.a.createElement(yt.a,null)),r.a.createElement(st.a,{primary:"Security"})),r.a.createElement(ct.a,{button:!0,onClick:function(){localStorage.clear(),window.location="/main"}},r.a.createElement(it.a,null,r.a.createElement(vt.a,null)),r.a.createElement(st.a,{primary:"Log Out"})))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(h.a,{maxWidth:"lg",className:e.container},r.a.createElement(f.a,{container:!0,spacing:3},0===Q&&r.a.createElement(ot.a,{in:!0},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:e.paper},r.a.createElement(Te,{setBackdrop:U,setOpen:o,setSnackSev:W,setSnackTest:O})))),1===Q&&r.a.createElement(ot.a,{in:!0},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:e.paper},r.a.createElement(tt,{setBackdrop:U,setOpen:o,setSnackSev:W,setSnackTest:O})))),2===Q&&r.a.createElement(ot.a,{in:!0},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:e.paper},r.a.createElement(Me,{setBackdrop:U,setOpen:o,setSnackSev:W,setSnackTest:O})))),3===Q&&r.a.createElement(ot.a,{in:!0},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(N.a,{className:e.paper},r.a.createElement(lt,{setBackdrop:U,setOpen:o,setSnackSev:W,setSnackTest:O}))))),r.a.createElement(X.a,{pt:4},r.a.createElement(xt,{name:x})))),r.a.createElement(kt.a,{open:l,autoHideDuration:6e3,onClose:ee},r.a.createElement(wt,{onClose:ee,severity:D},C)),r.a.createElement(G.a,{className:e.backdrop,open:V},r.a.createElement(L.a,{color:"inherit"}))))}var Nt=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(m.b,{path:"/",exact:!0,component:Q}),r.a.createElement(m.b,{path:"/main",component:Q}),r.a.createElement(m.b,{path:"/login",component:ae}),r.a.createElement(m.b,{path:"/dash",component:Bt})))};o.a.render(r.a.createElement(Nt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):i(t,e)}))}}()}},[[180,1,2]]]);